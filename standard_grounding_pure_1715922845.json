{
  "last_node_id": 306,
  "last_link_id": 396,
  "nodes": [
    {
      "id": 73,
      "type": "LoadImagesFromDir //Inspire",
      "pos": [
        1112,
        -485
      ],
      "size": {
        "0": 315,
        "1": 170
      },
      "flags": {},
      "order": 0,
      "mode": 4,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            148,
            150
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "INT",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImagesFromDir //Inspire"
      },
      "widgets_values": [
        "H:\\Useful Python Scripts\\testcomfy",
        1,
        0,
        false
      ]
    },
    {
      "id": 40,
      "type": "Mask By Text",
      "pos": [
        1650,
        -450
      ],
      "size": {
        "0": 210,
        "1": 194
      },
      "flags": {},
      "order": 7,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 150
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [],
          "slot_index": 0
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            149
          ],
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "Mask By Text"
      },
      "widgets_values": [
        "box",
        "",
        0.5,
        "no"
      ]
    },
    {
      "id": 41,
      "type": "Cut By Mask",
      "pos": [
        2299,
        -511
      ],
      "size": {
        "0": 342.5999755859375,
        "1": 122
      },
      "flags": {},
      "order": 9,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 148
        },
        {
          "name": "mask",
          "type": "IMAGE",
          "link": 149
        },
        {
          "name": "mask_mapping_optional",
          "type": "MASK_MAPPING",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            144
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Cut By Mask"
      },
      "widgets_values": [
        350,
        350
      ]
    },
    {
      "id": 42,
      "type": "PreviewImage",
      "pos": [
        3142,
        -563
      ],
      "size": {
        "0": 319.67578125,
        "1": 361.5376892089844
      },
      "flags": {},
      "order": 11,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 144
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 183,
      "type": "LoadImageListFromDir //Inspire",
      "pos": [
        784,
        -167
      ],
      "size": {
        "0": 315,
        "1": 150
      },
      "flags": {},
      "order": 1,
      "mode": 4,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [],
          "shape": 6,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 6,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImageListFromDir //Inspire"
      },
      "widgets_values": [
        "H:\\works\\pre_work01",
        1,
        0,
        true
      ]
    },
    {
      "id": 296,
      "type": "LoadImagesFromDir //Inspire",
      "pos": [
        834,
        -225
      ],
      "size": {
        "0": 315,
        "1": 170
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            377
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        },
        {
          "name": "INT",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImagesFromDir //Inspire"
      },
      "widgets_values": [
        "H:\\Useful Python Scripts\\testcomfy",
        8,
        0,
        true
      ]
    },
    {
      "id": 297,
      "type": "RebatchImages",
      "pos": [
        1225,
        -27
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 377
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            381
          ],
          "shape": 6,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "RebatchImages"
      },
      "widgets_values": [
        2
      ]
    },
    {
      "id": 207,
      "type": "GroundingDinoModelLoader (segment anything)",
      "pos": [
        929,
        199
      ],
      "size": {
        "0": 361.20001220703125,
        "1": 58
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "GROUNDING_DINO_MODEL",
          "type": "GROUNDING_DINO_MODEL",
          "links": [
            287
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoModelLoader (segment anything)"
      },
      "widgets_values": [
        "GroundingDINO_SwinB (938MB)"
      ]
    },
    {
      "id": 168,
      "type": "Cut By Mask",
      "pos": [
        1737,
        -37
      ],
      "size": {
        "0": 342.5999755859375,
        "1": 122
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 394
        },
        {
          "name": "mask",
          "type": "IMAGE",
          "link": 326
        },
        {
          "name": "mask_mapping_optional",
          "type": "MASK_MAPPING",
          "link": null,
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            303,
            304
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Cut By Mask"
      },
      "widgets_values": [
        0,
        0
      ]
    },
    {
      "id": 305,
      "type": "PreviewImage",
      "pos": [
        2230,
        350
      ],
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 389
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 235,
      "type": "GrowMask",
      "pos": [
        1748,
        464
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "GrowMask"
      },
      "widgets_values": [
        12,
        true
      ]
    },
    {
      "id": 238,
      "type": "MaskToImage",
      "pos": [
        1882,
        326
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 393
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            326,
            389
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      }
    },
    {
      "id": 206,
      "type": "GroundingDinoSAMSegment (segment anything)",
      "pos": [
        1376,
        276
      ],
      "size": {
        "0": 352.79998779296875,
        "1": 122
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "sam_model",
          "type": "SAM_MODEL",
          "link": 292,
          "slot_index": 0
        },
        {
          "name": "grounding_dino_model",
          "type": "GROUNDING_DINO_MODEL",
          "link": 287
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 381
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            394
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            393
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoSAMSegment (segment anything)"
      },
      "widgets_values": [
        "bottle",
        0.2
      ]
    },
    {
      "id": 300,
      "type": "Image Remove Background (Alpha)",
      "pos": [
        2726,
        170
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 5,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Image Remove Background (Alpha)"
      },
      "widgets_values": [
        "background",
        10,
        1
      ]
    },
    {
      "id": 301,
      "type": "PreviewImage",
      "pos": [
        3160,
        125
      ],
      "size": [
        210,
        246
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 396
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 223,
      "type": "PreviewImage",
      "pos": [
        2108,
        24
      ],
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 303
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 178,
      "type": "NegiTools_SaveImageToDirectory",
      "pos": [
        2815,
        4
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 395,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            396
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "NegiTools_SaveImageToDirectory"
      },
      "widgets_values": [
        "H:\\Useful Python Scripts\\result_comfy"
      ]
    },
    {
      "id": 173,
      "type": "ImageTransformResizeClip",
      "pos": [
        2403,
        49
      ],
      "size": {
        "0": 315,
        "1": 154
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 304
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            395
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageTransformResizeClip"
      },
      "widgets_values": [
        350,
        350,
        350,
        350,
        "lanczos"
      ]
    },
    {
      "id": 211,
      "type": "SAMLoader",
      "pos": [
        1030,
        389
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            292
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "Prefer GPU"
      ]
    }
  ],
  "links": [
    [
      144,
      41,
      0,
      42,
      0,
      "IMAGE"
    ],
    [
      148,
      73,
      0,
      41,
      0,
      "IMAGE"
    ],
    [
      149,
      40,
      1,
      41,
      1,
      "IMAGE"
    ],
    [
      150,
      73,
      0,
      40,
      0,
      "IMAGE"
    ],
    [
      287,
      207,
      0,
      206,
      1,
      "GROUNDING_DINO_MODEL"
    ],
    [
      292,
      211,
      0,
      206,
      0,
      "SAM_MODEL"
    ],
    [
      303,
      168,
      0,
      223,
      0,
      "IMAGE"
    ],
    [
      304,
      168,
      0,
      173,
      0,
      "IMAGE"
    ],
    [
      326,
      238,
      0,
      168,
      1,
      "IMAGE"
    ],
    [
      377,
      296,
      0,
      297,
      0,
      "IMAGE"
    ],
    [
      381,
      297,
      0,
      206,
      2,
      "IMAGE"
    ],
    [
      389,
      238,
      0,
      305,
      0,
      "IMAGE"
    ],
    [
      393,
      206,
      1,
      238,
      0,
      "MASK"
    ],
    [
      394,
      206,
      0,
      168,
      0,
      "IMAGE"
    ],
    [
      395,
      173,
      0,
      178,
      0,
      "IMAGE"
    ],
    [
      396,
      178,
      0,
      301,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "title": "1. Make a cat",
      "bounding": [
        -141,
        -612,
        1273,
        433
      ],
      "color": "#A88",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "4. Make a dog",
      "bounding": [
        -142,
        -158,
        1277,
        448
      ],
      "color": "#b06634",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "2. Get the mask for the cat",
      "bounding": [
        1588,
        -565,
        301,
        354
      ],
      "color": "#A88",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "3. Cut out the cat",
      "bounding": [
        2263,
        -588,
        413,
        370
      ],
      "color": "#A88",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "5. Get the mask for the dog",
      "bounding": [
        1593,
        -136,
        314,
        370
      ],
      "color": "#b06634",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "6. Cut out the dog",
      "bounding": [
        2362,
        -168,
        411,
        374
      ],
      "color": "#b06634",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "7. Create the background",
      "bounding": [
        -149,
        309,
        1728,
        550
      ],
      "color": "#8A8",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "8. Set up the composition",
      "bounding": [
        1620,
        300,
        663,
        658
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "9. Paste the dog",
      "bounding": [
        2355,
        295,
        982,
        626
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "10. Paste the cat",
      "bounding": [
        2361,
        938,
        980,
        655
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "11. Img2Img the pasted result to fix shadows/coloring",
      "bounding": [
        -134,
        984,
        2398,
        626
      ],
      "color": "#88A",
      "font_size": 24,
      "locked": false
    }
  ],
  "config": {},
  "extra": {},
  "version": 0.4
}